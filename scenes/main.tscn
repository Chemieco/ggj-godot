[gd_scene load_steps=21 format=3 uid="uid://dmpdwy7k7rrdo"]

[ext_resource type="Script" path="res://scenes/main.gd" id="1_44edq"]
[ext_resource type="PackedScene" uid="uid://i1xh47ybyfws" path="res://scenes/player/buildings/tower_normal.tscn" id="1_fv00a"]
[ext_resource type="PackedScene" uid="uid://bbjqrn8v5xghl" path="res://scenes/player/player.tscn" id="1_v6m5q"]
[ext_resource type="PackedScene" uid="uid://cd6bv01vdrygq" path="res://scenes/enemies/enemy_nautilus.tscn" id="2_dwpmd"]
[ext_resource type="Script" path="res://scenes/debug.gd" id="3_ex56j"]
[ext_resource type="PackedScene" uid="uid://0acqg1cfepf1" path="res://scenes/player/buildings/building_tower_normal.tscn" id="3_gbodl"]
[ext_resource type="PackedScene" uid="uid://5ej26fcwiwd8" path="res://scenes/player/buildings/building_tower_slow.tscn" id="6_gra6e"]
[ext_resource type="PackedScene" uid="uid://naxi80a8lev5" path="res://scenes/player/buildings/building_tower_heal.tscn" id="7_mvxj5"]
[ext_resource type="PackedScene" uid="uid://cxjb0a1p5aobb" path="res://scenes/player/buildings/tower_slow.tscn" id="8_51my1"]
[ext_resource type="Texture2D" uid="uid://dhhtaii1g6emi" path="res://assets/background/bg1.png" id="10_mvjsy"]
[ext_resource type="Texture2D" uid="uid://dhlkoy7jn7pg6" path="res://assets/background/bg2.png" id="11_6lpx1"]
[ext_resource type="Texture2D" uid="uid://dyqbl6sgdh4k" path="res://assets/background/bg3.png" id="12_ivqqv"]
[ext_resource type="Texture2D" uid="uid://bryvtaqwq307y" path="res://assets/background/bg4.png" id="13_6acjq"]
[ext_resource type="Texture2D" uid="uid://ce717g88b26pr" path="res://assets/background/bg51.png" id="14_oe4ge"]
[ext_resource type="PackedScene" uid="uid://bagkegph3wm6r" path="res://scenes/spawn_tower_button.tscn" id="15_857hr"]
[ext_resource type="Texture2D" uid="uid://d1ke2xj1sbajw" path="res://assets/background/bg52.png" id="15_w07wm"]
[ext_resource type="AudioStream" uid="uid://bfulew0aypdyq" path="res://assets/sounds/Loop-Lied-Base.ogg" id="17_qkuot"]
[ext_resource type="AudioStream" uid="uid://cowhjih75apa5" path="res://assets/sounds/Loop-Lied-Finalbonus.ogg" id="18_yc7f7"]

[sub_resource type="Curve2D" id="Curve2D_8wolb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 580, -270, 0, 0, 0, 0, 580, 270)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_aqkqm"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -580, -270, 0, 0, 0, 0, -580, 270)
}
point_count = 2

[node name="Main" type="Node2D"]
texture_filter = 1
script = ExtResource("1_44edq")

[node name="Player" parent="." instance=ExtResource("1_v6m5q")]

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="Debug" type="Label" parent="Player/Camera2D"]
offset_left = -447.0
offset_top = -246.0
offset_right = -247.0
offset_bottom = -223.0
script = ExtResource("3_ex56j")

[node name="BuildingTowerHeal" parent="Player" instance=ExtResource("7_mvxj5")]
y_sort_enabled = true
position = Vector2(-77, -8)

[node name="BuildingTowerNormal" parent="Player" instance=ExtResource("3_gbodl")]
position = Vector2(65, -9)

[node name="BuildingTowerSlow" parent="Player" instance=ExtResource("6_gra6e")]
position = Vector2(1, 7)

[node name="TowerSlow" parent="Player" instance=ExtResource("8_51my1")]
visible = false
position = Vector2(35, -1643)

[node name="TowerNormal" parent="Player" instance=ExtResource("1_fv00a")]
visible = false
position = Vector2(-129, -1809)

[node name="SpawnTowerButton" parent="Player" instance=ExtResource("15_857hr")]
offset_left = -263.0
offset_top = -21.0
offset_right = -231.0
offset_bottom = 11.0

[node name="SpawnTowerButton2" parent="Player" instance=ExtResource("15_857hr")]
offset_left = -242.0
offset_top = 96.0
offset_right = -210.0
offset_bottom = 128.0

[node name="SpawnTowerButton3" parent="Player" instance=ExtResource("15_857hr")]
offset_left = -157.0
offset_top = 187.0
offset_right = -125.0
offset_bottom = 219.0

[node name="SpawnTowerButton4" parent="Player" instance=ExtResource("15_857hr")]
offset_left = -243.0
offset_top = -150.0
offset_right = -211.0
offset_bottom = -118.0

[node name="SpawnTowerButton5" parent="Player" instance=ExtResource("15_857hr")]
offset_left = -147.0
offset_top = -230.0
offset_right = -115.0
offset_bottom = -198.0

[node name="SpawnTowerButton6" parent="Player" instance=ExtResource("15_857hr")]
offset_left = 116.0
offset_top = 190.0
offset_right = 148.0
offset_bottom = 222.0

[node name="SpawnTowerButton7" parent="Player" instance=ExtResource("15_857hr")]
offset_left = 204.0
offset_top = 115.0
offset_right = 236.0
offset_bottom = 147.0

[node name="SpawnTowerButton8" parent="Player" instance=ExtResource("15_857hr")]
offset_left = 244.0
offset_top = -13.0
offset_right = 276.0
offset_bottom = 19.0

[node name="SpawnTowerButton9" parent="Player" instance=ExtResource("15_857hr")]
offset_left = 217.0
offset_top = -151.0
offset_right = 249.0
offset_bottom = -119.0

[node name="SpawnTowerButton10" parent="Player" instance=ExtResource("15_857hr")]
offset_left = 124.0
offset_top = -244.0
offset_right = 156.0
offset_bottom = -212.0

[node name="Enemy" parent="." instance=ExtResource("2_dwpmd")]
visible = false
position = Vector2(-185, -2234)

[node name="PathRight" type="Path2D" parent="."]
curve = SubResource("Curve2D_8wolb")

[node name="SpawnPathRight" type="PathFollow2D" parent="PathRight"]
position = Vector2(580, -270)
rotation = 1.5708

[node name="PathLeft" type="Path2D" parent="."]
curve = SubResource("Curve2D_aqkqm")

[node name="SpawnPathLeft" type="PathFollow2D" parent="PathLeft"]
position = Vector2(-580, -270)
rotation = 1.5708

[node name="AudioListener2D" type="AudioListener2D" parent="."]
current = true

[node name="Background" type="Control" parent="."]
z_index = -50
layout_mode = 3
anchors_preset = 0

[node name="BG1" type="Parallax2D" parent="Background"]

[node name="Sprite2D" type="Sprite2D" parent="Background/BG1"]
texture_filter = 1
texture = ExtResource("10_mvjsy")

[node name="BG2" type="Parallax2D" parent="Background"]
repeat_size = Vector2(960, 0)
autoscroll = Vector2(-10, 0)
repeat_times = 4

[node name="Sprite2D" type="Sprite2D" parent="Background/BG2"]
texture_filter = 1
texture = ExtResource("11_6lpx1")

[node name="BG3" type="Parallax2D" parent="Background"]
repeat_size = Vector2(960, 0)
autoscroll = Vector2(-20, 0)
repeat_times = 4

[node name="Sprite2D" type="Sprite2D" parent="Background/BG3"]
texture_filter = 1
texture = ExtResource("12_ivqqv")

[node name="BG4" type="Parallax2D" parent="Background"]
repeat_size = Vector2(960, 0)
autoscroll = Vector2(-30, 0)
repeat_times = 4

[node name="Sprite2D" type="Sprite2D" parent="Background/BG4"]
texture_filter = 1
texture = ExtResource("13_6acjq")

[node name="BG51" type="Parallax2D" parent="Background"]
repeat_size = Vector2(960, 0)
autoscroll = Vector2(-40, 0)
repeat_times = 4

[node name="Sprite2D" type="Sprite2D" parent="Background/BG51"]
texture_filter = 1
texture = ExtResource("14_oe4ge")

[node name="BG52" type="Parallax2D" parent="Background"]
scroll_offset = Vector2(480, 0)
repeat_size = Vector2(960, 0)
autoscroll = Vector2(-40, 0)
repeat_times = 4

[node name="Sprite2D" type="Sprite2D" parent="Background/BG52"]
texture_filter = 1
texture = ExtResource("15_w07wm")

[node name="BaseLoop" type="AudioStreamPlayer" parent="."]
stream = ExtResource("17_qkuot")
volume_db = -20.0
autoplay = true
parameters/looping = true

[node name="FinalLoop" type="AudioStreamPlayer" parent="."]
stream = ExtResource("18_yc7f7")
volume_db = -25.0
autoplay = true
bus = &"Final"
parameters/looping = true

[node name="EnemyLevelUp" type="Timer" parent="."]
process_callback = 0
wait_time = 30.0
autostart = true

[connection signal="building_spawned" from="Player/BuildingTowerHeal" to="." method="_on_building_tower_heal_building_spawned"]
[connection signal="building_spawned" from="Player/BuildingTowerNormal" to="." method="_on_building_tower_normal_building_spawned"]
[connection signal="building_spawned" from="Player/BuildingTowerSlow" to="." method="_on_building_tower_slow_building_spawned"]
[connection signal="timeout" from="EnemyLevelUp" to="." method="_on_enemy_level_up_timeout"]
